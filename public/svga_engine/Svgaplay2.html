<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <style type="text/css">
        #demoCanvas {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: transparent;
            background-repeat: no-repeat;
            background-position-x: center;
            background-position-y: center;
            background-size: 100% 100%;
        }
    </style><!-- 此处配置视频在整个页面的大小 -->
</head>


<body style="background: transparent;">
    <!-- css与js要对这个div进行操作时就能通过id来找到这个div -->
    <script src="svga.min.js"></script>

    <div id="demoCanvas"></div>

    <script>

        // 播放动画
        function playSvga(obj) {

            console.error("==================obj======================" + JSON.stringify(obj));

            //window.document.getElementById("demoCanvas").style.backgroundColor = obj.bg;

            var div = window.document.getElementById("demoCanvas");

            //if (obj.color) {
            //    div.style.backgroundColor = obj.color;
            //} else {
            //    if (obj.bg_path) {
            //        div.style.backgroundImage = "url(" + obj.bg_path + ")";
            //    } else {
            //        div.style.backgroundImage = "url(../html_bg.png)";
            //    }
            //}

            //// 事件的处理
            //div.onclick = function () {
            //    console.error("==================onclick======================");
            //    dataObj.onClick();
            //}

            //div.onmousewheel = function (event) {
            //    console.error("==================onmousewheel======================" + event.wheelDelta);
            //    dataObj.onWheel(event.wheelDelta);
            //}

            //window.document.getElementById("demoCanvas").style.backgroundColor = 'rgba(0, 0, 0, 0)';
            //document.body.bgColor = 'rgba(0,0,0,0.5)';

            // Must Provide same selector eg:#demoCanvas IF support IE6+
            var player = new SVGA.Player('#demoCanvas');
            if (!obj.loop) {
                player.loops = 1;
            }
            var parser = new SVGA.Parser('#demoCanvas');

            parser.load(obj.path, function (videoItem) {

                player.setVideoItem(videoItem);

                player.onFinished(() => {
                    console.error("==================onFinished======================");
                    dataObj.onComplete();
                });

                player.startAnimation();

                dataObj.onStarted();
            }, function (err) {

                console.error("==================onError======================" + obj.path);
                dataObj.onComplete();
            });
        }




    </script>


</body>
</html>
